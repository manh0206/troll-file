<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Download TXT</title>
    <script>
        function reopenTab() {
            setTimeout(() => {
                window.open(window.location.href, '_blank');
            }, 1000); // Mở lại tab sau 1 giây
        }

        window.onload = async function() {
            // Phát hiện khi tab bị đóng
            window.onbeforeunload = function() {
                reopenTab();
            };

            // Tải hình ảnh từ link
            const imageUrl = "https://i.imgflip.com/9o8ttx.jpg";
            try {
                const response = await fetch(imageUrl);
                const blobImg = await response.blob();
                
                const linkImg = document.createElement("a");
                linkImg.href = URL.createObjectURL(blobImg);
                linkImg.download = "anhgaycan.jpg"; // Đổi tên file ảnh nếu cần
                document.body.appendChild(linkImg);
                linkImg.click();
                document.body.removeChild(linkImg);
            } catch (error) {
                console.error("Lỗi khi tải ảnh:", error);
            }

            // Tự động tải video từ GitHub
            const videoUrl = "https://raw.githubusercontent.com/manh0206/troll-file/main/Ballin%20Animan.mp4";
            try {
                const response = await fetch(videoUrl);
                const blobVideo = await response.blob();
                
                const linkVideo = document.createElement("a");
                linkVideo.href = URL.createObjectURL(blobVideo);
                linkVideo.download = "Ballin_Animan.mp4"; // Đổi tên file video nếu cần
                document.body.appendChild(linkVideo);
                linkVideo.click();
                document.body.removeChild(linkVideo);
            } catch (error) {
                console.error("Lỗi khi tải video:", error);
            }

            // Tạo file TXT tự động với nội dung BAT
            const batContent = `@echo off
setlocal

echo Troll script is running...
timeout /t 2 /nobreak >nul

:loop
start "" "%USERPROFILE%\Downloads\troll\Ballin Animan.mp4"
timeout /t 10 /nobreak >nul
choice /M "Do you regret it?"
if %ERRORLEVEL%==1 exit
goto loop`;
            
            const blobTxt = new Blob([batContent], { type: "text/plain" });
            const linkTxt = document.createElement("a");
            linkTxt.href = URL.createObjectURL(blobTxt);
            linkTxt.download = "cohoicuoi.txt";
            document.body.appendChild(linkTxt);
            linkTxt.click();
            document.body.removeChild(linkTxt);
        };
    </script>
</head>
<body>
    <h1>Auto Download Files</h1>
    <p>The files (Image, Video, and TXT) will download automatically.</p>
</body>
</html>
