<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Chuy·ªÉn √Çm Thanh Th√†nh VƒÉn B·∫£n</title>
  <script src="https://js.puter.com/v2/"></script>
  <style>
    body { font-family: sans-serif; max-width: 700px; margin: auto; padding: 20px; }
    input { width: 70%; padding: 6px; font-size: 14px; }
    button { padding: 6px 12px; margin-left: 5px; cursor: pointer; }
    pre { white-space: pre-wrap; background: #f9f9f9; padding: 10px; border-radius: 6px; border: 1px solid #ddd; }
  </style>
</head>
<body>
  <h2>üîä Audio ‚Üí Text (via Puter.js)</h2>
  <p>Nh·∫≠p link file audio (mp3, wav, m4a...):</p>
  <input id="audioUrl" placeholder="https://example.com/file.mp3">
  <button onclick="convert()">Chuy·ªÉn ƒë·ªïi</button>

  <h3>K·∫øt qu·∫£:</h3>
  <pre id="result">Ch∆∞a c√≥ d·ªØ li·ªáu</pre>

  <script>
    async function convert() {
      const url = document.getElementById('audioUrl').value.trim();
      const resultBox = document.getElementById("result");

      if (!url) {
        alert("‚ö†Ô∏è H√£y nh·∫≠p link audio");
        return;
      }

      resultBox.textContent = "‚è≥ ƒêang x·ª≠ l√Ω...";

      try {
        const response = await puter.ai.chat(
          "Transcribe this audio file to text:",
          url,
          { model: "gpt-5-nano" }
        );

        // N·∫øu l√† object c√≥ .text th√¨ in ra text
        if (typeof response === "object") {
          resultBox.textContent = response.text ?? JSON.stringify(response, null, 2);
        } else {
          resultBox.textContent = response;
        }
      } catch (err) {
        // In l·ªói chi ti·∫øt thay v√¨ [object Object]
        resultBox.textContent = "‚ùå L·ªói: " + (err?.message || JSON.stringify(err, null, 2));
        console.error(err);
      }
    }
  </script>
</body>
</html>
